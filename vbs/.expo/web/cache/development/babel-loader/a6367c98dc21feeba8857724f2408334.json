{"ast":null,"code":"'use strict';\n\nvar stripAnsi = require('strip-ansi');\n\nvar url = require('url');\n\nvar launchEditorEndpoint = require(\"./launchEditorEndpoint\");\n\nvar formatWebpackMessages = require(\"./formatWebpackMessages\");\n\nvar ErrorOverlay = require('react-error-overlay');\n\nErrorOverlay.setEditorHandler(function editorHandler(errorLocation) {\n  fetch(launchEditorEndpoint + '?fileName=' + window.encodeURIComponent(errorLocation.fileName) + '&lineNumber=' + window.encodeURIComponent(errorLocation.lineNumber || 1) + '&colNumber=' + window.encodeURIComponent(errorLocation.colNumber || 1));\n});\nvar hadRuntimeError = false;\nErrorOverlay.startReportingRuntimeErrors({\n  onError: function onError() {\n    hadRuntimeError = true;\n  },\n  filename: '/static/js/bundle.js'\n});\n\nif (module.hot && typeof module.hot.dispose === 'function') {\n  module.hot.dispose(function () {\n    ErrorOverlay.stopReportingRuntimeErrors();\n  });\n}\n\nvar connection = new WebSocket(url.format({\n  protocol: window.location.protocol === 'https:' ? 'wss' : 'ws',\n  hostname: process.env.WDS_SOCKET_HOST || window.location.hostname,\n  port: process.env.WDS_SOCKET_PORT || window.location.port,\n  pathname: process.env.WDS_SOCKET_PATH || '/sockjs-node',\n  slashes: true\n}));\n\nconnection.onclose = function () {\n  if (typeof console !== 'undefined' && typeof console.info === 'function') {\n    console.info('The development server has disconnected.\\nRefresh the page if necessary.');\n  }\n};\n\nvar isFirstCompilation = true;\nvar mostRecentCompilationHash = null;\nvar hasCompileErrors = false;\n\nfunction clearOutdatedErrors() {\n  if (typeof console !== 'undefined' && typeof console.clear === 'function') {\n    if (hasCompileErrors) {\n      console.clear();\n    }\n  }\n}\n\nfunction handleSuccess() {\n  clearOutdatedErrors();\n  var isHotUpdate = !isFirstCompilation;\n  isFirstCompilation = false;\n  hasCompileErrors = false;\n\n  if (isHotUpdate) {\n    tryApplyUpdates(function onHotUpdateSuccess() {\n      tryDismissErrorOverlay();\n    });\n  }\n}\n\nfunction handleWarnings(warnings) {\n  clearOutdatedErrors();\n  var isHotUpdate = !isFirstCompilation;\n  isFirstCompilation = false;\n  hasCompileErrors = false;\n\n  function printWarnings() {\n    var formatted = formatWebpackMessages({\n      warnings: warnings,\n      errors: []\n    });\n\n    if (typeof console !== 'undefined' && typeof console.warn === 'function') {\n      for (var i = 0; i < formatted.warnings.length; i++) {\n        if (i === 5) {\n          console.warn('There were more warnings in other files.\\n' + 'You can find a complete log in the terminal.');\n          break;\n        }\n\n        console.warn(stripAnsi(formatted.warnings[i]));\n      }\n    }\n  }\n\n  printWarnings();\n\n  if (isHotUpdate) {\n    tryApplyUpdates(function onSuccessfulHotUpdate() {\n      tryDismissErrorOverlay();\n    });\n  }\n}\n\nfunction handleErrors(errors) {\n  clearOutdatedErrors();\n  isFirstCompilation = false;\n  hasCompileErrors = true;\n  var formatted = formatWebpackMessages({\n    errors: errors,\n    warnings: []\n  });\n  ErrorOverlay.reportBuildError(formatted.errors[0]);\n\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    for (var i = 0; i < formatted.errors.length; i++) {\n      console.error(stripAnsi(formatted.errors[i]));\n    }\n  }\n}\n\nfunction tryDismissErrorOverlay() {\n  if (!hasCompileErrors) {\n    ErrorOverlay.dismissBuildError();\n  }\n}\n\nfunction handleAvailableHash(hash) {\n  mostRecentCompilationHash = hash;\n}\n\nconnection.onmessage = function (e) {\n  var message = JSON.parse(e.data);\n\n  switch (message.type) {\n    case 'hash':\n      handleAvailableHash(message.data);\n      break;\n\n    case 'still-ok':\n    case 'ok':\n      handleSuccess();\n      break;\n\n    case 'content-changed':\n      window.location.reload();\n      break;\n\n    case 'warnings':\n      handleWarnings(message.data);\n      break;\n\n    case 'errors':\n      handleErrors(message.data);\n      break;\n\n    default:\n  }\n};\n\nfunction isUpdateAvailable() {\n  return mostRecentCompilationHash !== __webpack_hash__;\n}\n\nfunction canApplyUpdates() {\n  return module.hot.status() === 'idle';\n}\n\nfunction tryApplyUpdates(onHotUpdateSuccess) {\n  if (!module.hot) {\n    window.location.reload();\n    return;\n  }\n\n  if (!isUpdateAvailable() || !canApplyUpdates()) {\n    return;\n  }\n\n  function handleApplyUpdates(err, updatedModules) {\n    if (err || !updatedModules || hadRuntimeError) {\n      window.location.reload();\n      return;\n    }\n\n    if (typeof onHotUpdateSuccess === 'function') {\n      onHotUpdateSuccess();\n    }\n\n    if (isUpdateAvailable()) {\n      tryApplyUpdates();\n    }\n  }\n\n  var result = module.hot.check(true, handleApplyUpdates);\n\n  if (result && result.then) {\n    result.then(function (updatedModules) {\n      handleApplyUpdates(null, updatedModules);\n    }, function (err) {\n      handleApplyUpdates(err, null);\n    });\n  }\n}","map":null,"metadata":{},"sourceType":"script"}