{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/rabeen/personal/rabeens-vbs/ui/components/SigninBox.js\";\n\nimport React from 'react';\nimport { StatusBar } from 'expo-status-bar';\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { APP_CONFIG } from \"../helpers/config\";\nexport var SigninBox = function SigninBox() {\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      username = _React$useState2[0],\n      setUsername = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      password = _React$useState4[0],\n      setPassword = _React$useState4[1];\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      msg = _React$useState6[0],\n      setMsg = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      loader = _React$useState8[0],\n      setLoader = _React$useState8[1];\n\n  var signin = function signin() {\n    setLoader(true);\n    setMsg();\n    console.log(APP_CONFIG.api_path + \"/signin\");\n    fetch(APP_CONFIG.api_path + \"/signin\", {\n      method: \"POST\",\n      data: JSON.stringify({\n        username: username,\n        password: password\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"accept\": \"application/json\"\n      }\n    }).then(function (res) {\n      console.log(res);\n      return res;\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      setLoader(false);\n\n      if (res.status === 200) {\n        props.storeToken(res.token);\n      } else if (res.status === 401) {\n        setMsg(res.msg);\n      } else {\n        setMsg(\"Failed to Login!\");\n      }\n    }).catch(function (err) {\n      console.log(err);\n      setLoader(false);\n      setMsg(\"Error to Login!\");\n    });\n  };\n\n  if (loader) {\n    return React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 16\n      }\n    }, \"Signing In...\");\n  }\n\n  return React.createElement(View, {\n    style: style.box,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }\n  }, React.createElement(StatusBar, {\n    style: \"auto\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }), msg ? React.createElement(Text, {\n    style: style.msgStyle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, msg) : null, React.createElement(TextInput, {\n    autoFocus: true,\n    placeholder: \"Username\",\n    value: username,\n    onChangeText: function onChangeText(e) {\n      return setUsername(e);\n    },\n    style: style.input,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    secureTextEntry: true,\n    placeholder: \"Password\",\n    value: password,\n    onChangeText: function onChangeText(e) {\n      return setPassword(e);\n    },\n    style: style.input,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    title: \"Signin\",\n    onPress: function onPress(e) {\n      signin();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }));\n};\nvar style = StyleSheet.create({\n  input: {\n    borderBottomWidth: 1,\n    marginBottom: 20,\n    textAlign: \"center\",\n    fontSize: 24\n  },\n  box: {\n    flex: 1,\n    alignContent: \"center\",\n    justifyContent: \"center\",\n    width: 360,\n    alignSelf: \"center\"\n  },\n  msgStyle: {\n    color: \"red\",\n    textAlign: \"center\",\n    marginTop: 10\n  }\n});","map":null,"metadata":{},"sourceType":"module"}