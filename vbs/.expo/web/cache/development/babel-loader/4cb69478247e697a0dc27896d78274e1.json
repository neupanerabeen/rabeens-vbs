{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/rabeen/personal/rabeens-vbs/ui/components/MainApp.js\";\n\nimport React from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createDrawerNavigator } from '@react-navigation/drawer';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { MyRequests } from \"./MyRequests\";\nimport { MyActiveRentals } from \"./MyActiveRentals\";\nimport { Dashboard } from \"./Dashboard\";\nimport { Admin } from \"./Admin\";\nimport { APP_CONFIG } from \"../helpers/config\";\nimport { AllRequests } from \"./AllRequests\";\nimport { Users } from \"./Users\";\nimport { Holidays } from \"./Holidays\";\nimport { LogOut } from \"./LogOut\";\nimport { BookVehicle } from \"./BookVehicle\";\nvar Drawer = createDrawerNavigator();\nexport var MainApp = function MainApp(props) {\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isAdmin = _React$useState2[0],\n      setIsAdmin = _React$useState2[1];\n\n  React.useEffect(function () {\n    fetch(APP_CONFIG.api_path + \"/\", {\n      \"ContentType\": \"application/json\",\n      \"Authentication\": \"Bearer token\"\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      if (res.status === 200) {\n        if (res.msg === true) {\n          setIsAdmin(res.msg);\n        } else {\n          setIsAdmin(false);\n        }\n      } else if (res.status === 401) {} else {\n        setIsAdmin(false);\n      }\n    }).catch(function (err) {\n      setIsAdmin(false);\n    });\n  }, []);\n\n  if (isAdmin === undefined) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        alignItems: \"center\",\n        justifyContent: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 14\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }, \"Loading app...\"));\n  }\n\n  return React.createElement(NavigationContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 12\n    }\n  }, React.createElement(Drawer.Navigator, {\n    initialRouteName: \"Dashboard\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, React.createElement(Drawer.Screen, {\n    name: \"Dashboard\",\n    component: Dashboard,\n    options: {\n      title: APP_CONFIG.appTitle || \"Dashboard\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"BookVehicle\",\n    component: BookVehicle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }), isAdmin ? React.createElement(React.Fragment, null, React.createElement(Drawer.Screen, {\n    name: \"AllRequests\",\n    component: AllRequests,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Users\",\n    component: Users,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), React.createElement(Drawer.Screen, {\n    name: \"Holidays\",\n    component: Holidays,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })) : null, React.createElement(Drawer.Screen, {\n    name: \"LogOut\",\n    component: LogOut,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  })));\n};","map":null,"metadata":{},"sourceType":"module"}